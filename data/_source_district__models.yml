version: 2

models: 
  - name: stg_external_datasets__districts_enrolled
    columns:
      - name: school_year_enrolled
      - name: district_id
  - name: int_school_years
    columns:
      - name: school_year
      - name: school_year_int
      - name: started_at
      - name: ended_at
      - name: school_year_long
  - name: dim_schools
    description: |
      NCES school-level information for the most recent school year it is updated for. 
    columns: 
      - name: school_id
        description: the NCES id associated with a school 
        data_tests:
          - not_null
          - unique

      - name: last_survey_year 
        description: the school year associated with the most recent information about this school from NCES
      
      - name: is_stage_el
        description: binary; 1 if the school has any grade levels 0-5, 0 if not 
      
      - name: is_stage_mi
        description: binary; 1 if the school has any grade levels 6-8, 0 if not 
      
      - name: is_stage_hi
        description: binary; 1 if the school has any grade levels 9-12, 0 if not 
      
      - name: school_level_simple
        description: a combination of all school levels the school contains, separated by underscores
      
      - name: total_urg_no_tr_students
        description: total number of URG students, excluding those identifying as two or more races
    
  - name: int_teacher_schools_historical
    columns:
      - name: user_id as teacher_id
      - name: started_at_sy
      - name: started_at
      - name: ended_at
      - name: school_info_id
      - name: school_id

  - name: int_active_sections
    columns:
      - name: teacher_id
      - name: school_year
      - name: course_name
      - name: section_id
      - name: section_started_at
      - name: num_students
